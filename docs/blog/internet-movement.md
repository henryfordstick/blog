# 互联网是如何运作的
在互联网发展的今天，我们可以在家里浏览视频，购物，看资讯等等。互联网为我们生活带来了很多
的便捷，那么到底互联网是怎么运作的呢？怎么用计算机设备发送数据和接收数据呢？
接下来就谈谈这个过程！

## 如何访问网站
先看一下电脑怎样才能访问一个网站？

![访问服务器的过程](/images/internet-链接.jpg)
- 当电脑连入互联网之后，就会获取到一个编号地址，这个地址我们称为IP地址。
- 现在服务器接入到互联网，它也将分配到一个IP地址。
- 那么现在电脑就是客户端，服务器就是服务端（**谁发起第一次通信，谁就是客户端**）。

这种形式称为**客户端-服务端模型**。

**客户端**更贴近用户，是面向用户的应用程序（如浏览器，B站等）。**服务端**是在远程服务上运行的程序。
客户端可以在需要的时候通过互联网与服务端进行通信。

接下来了解一下浏览器向服务通信的大体流程。

### 浏览器和服务器通信过程
![浏览器访问服务器](/images/internet-browser.png)
1. 用户输入一个指令，回车以后，告诉浏览器要访问这个网站。
2. 浏览器要判断网络（底层做），试着跨过网关，防火墙（防止网络攻击）。
3. 去DNS服务器通过域名获取ip地址。DNS相当一个大数据库，简单里面存着key和value形式的域名和IP地址的键值对。
4. 当获取到IP地址的时候，通过路由找到服务器。路径是一个网状的。路由器起到中继的作用。
5. 服务器IP是一个入口，通过反向代理，导向对应的服务器。
6. 服务器收到请求的正文，然后响应，html或者其他资源。
7. 响应顺着路由回来，当然和去的可能不是同一条。
8. 浏览器渲染，用户看到请求结果。

整个过程通过TCP协议建立连接，使用HTTP协议发送请求后完成通信。
:::tip HTTP协议 和 TCP协议的区别
- TCP是传输层，而HTTP是应用层协议。**HTTP协议是基于TCP协议的**。
- TCP是底层通讯协议，定义的是数据传输和连接方式的规范。
- HTTP是应用层协议，定义的是传输数据的内容的规范。
- HTTP协议中的数据是利用TCP协议传输的，所以支持HTTP也就一定支持TCP。

关于更详细的内容，可以看以后章节：[HTTP协议总结](./internet-http.md)、[TCP协议总结](./internet-tcp.md)
:::

## TCP/IP协议族
什么是协议呢？

协议是一组规则，用于指定计算机如何通过网络进行相互通信。

TCP协议分为4层，分别是：应用层，数据传输层，网络层，链路层。
![TCP四层协议](/images/TCP:IP协议.jpg)

## 相关链接
[10分钟带你了解互联网是如何运作的！](https://www.bilibili.com/video/BV1Rz4y197Jd)



